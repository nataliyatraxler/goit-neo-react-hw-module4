{"ast":null,"code":"var _jsxFileName = \"/Users/nataliya/Documents/projects/vscode-basics/homeworks/11111111111/goit-neo-react-hw-module4/image-search-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { fetchImages } from './services/unsplashApi';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from 'react-loader-spinner';\nimport Modal from 'react-modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement('#root');\nconst App = () => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const observerRef = useRef();\n  useEffect(() => {\n    const loadImages = async () => {\n      if (!query) return;\n      setLoading(true);\n      const fetchedImages = await fetchImages(query, page);\n      setImages(prevImages => [...prevImages, ...fetchedImages]);\n      setLoading(false);\n    };\n    loadImages();\n  }, [query, page]);\n  const handleSearch = e => {\n    e.preventDefault();\n    const searchQuery = e.target.elements.query.value.trim();\n    if (!searchQuery) return;\n    setQuery(searchQuery);\n    setImages([]);\n    setPage(1);\n  };\n  const lastImageRef = node => {\n    if (loading) return;\n    if (observerRef.current) observerRef.current.disconnect();\n    observerRef.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        setPage(prevPage => prevPage + 1);\n      }\n    });\n    if (node) observerRef.current.observe(node);\n  };\n  const openModal = image => {\n    setSelectedImage(image);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedImage(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Image Search App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSearch,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"query\",\n        placeholder: \"Search images...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n      images: images,\n      onImageClick: openModal,\n      lastImageRef: lastImageRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {\n      type: \"ThreeDots\",\n      color: \"#00BFFF\",\n      height: 80,\n      width: 80\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showModal,\n      onRequestClose: closeModal,\n      contentLabel: \"Image Modal\",\n      children: selectedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: selectedImage,\n        alt: \"Large preview\",\n        style: {\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 27\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"pNzeiKR6eYIvWNvDcVA4W9RrZDY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","fetchImages","ImageGallery","Loader","Modal","jsxDEV","_jsxDEV","setAppElement","App","_s","query","setQuery","images","setImages","page","setPage","loading","setLoading","showModal","setShowModal","selectedImage","setSelectedImage","observerRef","loadImages","fetchedImages","prevImages","handleSearch","e","preventDefault","searchQuery","target","elements","value","trim","lastImageRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPage","observe","openModal","image","closeModal","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","placeholder","onImageClick","color","height","width","isOpen","onRequestClose","contentLabel","src","alt","style","_c","$RefreshReg$"],"sources":["/Users/nataliya/Documents/projects/vscode-basics/homeworks/11111111111/goit-neo-react-hw-module4/image-search-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { fetchImages } from './services/unsplashApi';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from 'react-loader-spinner';\nimport Modal from 'react-modal';\n\nModal.setAppElement('#root');\n\nconst App = () => {\n  const [query, setQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const observerRef = useRef();\n\n  useEffect(() => {\n    const loadImages = async () => {\n      if (!query) return;\n\n      setLoading(true);\n      const fetchedImages = await fetchImages(query, page);\n      setImages((prevImages) => [...prevImages, ...fetchedImages]);\n      setLoading(false);\n    };\n\n    loadImages();\n  }, [query, page]);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    const searchQuery = e.target.elements.query.value.trim();\n    if (!searchQuery) return;\n\n    setQuery(searchQuery);\n    setImages([]);\n    setPage(1);\n  };\n\n  const lastImageRef = (node) => {\n    if (loading) return;\n\n    if (observerRef.current) observerRef.current.disconnect();\n    observerRef.current = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        setPage((prevPage) => prevPage + 1);\n      }\n    });\n\n    if (node) observerRef.current.observe(node);\n  };\n\n  const openModal = (image) => {\n    setSelectedImage(image);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedImage(null);\n  };\n\n  return (\n    <div>\n      <h1>Image Search App</h1>\n      <form onSubmit={handleSearch}>\n        <input type=\"text\" name=\"query\" placeholder=\"Search images...\" />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <ImageGallery images={images} onImageClick={openModal} lastImageRef={lastImageRef} />\n\n      {loading && <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />}\n\n      <Modal isOpen={showModal} onRequestClose={closeModal} contentLabel=\"Image Modal\">\n        {selectedImage && <img src={selectedImage} alt=\"Large preview\" style={{ width: '100%' }} />}\n      </Modal>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}